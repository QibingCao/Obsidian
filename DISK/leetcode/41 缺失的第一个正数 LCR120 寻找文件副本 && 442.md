---
tags:
  - 原地哈希
  - 原地
  - 空间复杂度o1
---
原地哈希，在常数空间复杂度下解决。适合寻找某个类似某个特殊自然数的题目。
![[Pasted image 20240330194518.png]]
==第i个位置的元素不是i+1的话，对应下标元素与i位置元素交换==
会在第i个位置一直循环，直到第i个位置符合
```java
// 原地hash，下标i放元素i+1
for (int i = 0; i < n; i++) {
	
	// ==第i个位置的元素不是i+1的话，对应下标元素与i位置元素交换==
	while (前置条件 && nums[i] != i+1) {
		swap(nums, i, nums[i] - 1);
	}
}
```
<!--SR:!2024-04-03,3,250!2024-04-03,3,250-->

## 勘误
判断终止条件应该是：当前下标元素值是否和下标元素值对应的位置中存放的元素值相等，而不是当前位置存放的元素是否正确，因为这样会导致无限循环。
**当前下标中的元素对应位置是否已经被正确的数字填充**
```
while (前置条件 && nums[i] != num[num[i] - 1]) {
		swap(nums, i, nums[i] - 1);
	}

```
