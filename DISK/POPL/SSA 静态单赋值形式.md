---

类型: 笔记
创建日期: 2024-06-25
修改日期: 2024-06-25
---
静态：不执行代码的情况下看起来是单赋值
单赋值：只赋一次值

为什么要函数式编程？
高级语言在编译成中间代码时，全是SSA


1988年来到现在，市面上绝大部分的中间表示都是SSA（命令式语言和函数式语言）。


```

int foor() {
	int x = 0;
	x = x + 1;
	x = x + 1;
	x = x + 1;
	return x;
}
```
符合SSA的如下：
```
int foo1() {
	int x1, x2, x3, x4;
	x1 = 0;
	x2 = x1 + 1;
	x3 = x2 + 1;
	x4 = x3 + 1;
	return x4; 
}

```
两端程序完全等价，一个命令式，一个函数式。直观的点，后一个debug狠方便，每个变量仅赋值一次，是什么值不会改变。心智负担不重。

呵呵，SSA的变量赋值想git，有点copy on write的意思。维护了一个非常强的不变性。不应该牺牲程序员而去为了语言而折衷。

SSA是一种程序表示（编程风格），每个变量只会被不止一次，（静态的，在text中）。SSA是一种函数式编程（等式推理（不存在统一观念））。
if ( ) {x = 1;} else {x = 2;} 这也不是SSA（注意text内只赋值一次）
while (true) x = x + 1; 这是SSA

## 编译器中SSA的构建

基本块很简单，每个赋值语句都给他往上去看给他。
用hashmap搞SSA，一个变量对应一个名字。

线性时间改SSA

一般的控制流图中：merge块中用 /sai 函数做一个仲裁，（语义是 /sai 函数是一个选择子，当且仅当左边流入时选中a1）

统治：要到别人，必须过我



101课程计划，不作为考试要求

延续：
	
```