---

类型: 笔记
创建日期: 2024-04-11
修改日期: 2024-04-11
---
左闭右闭[left, right]。

把二分问题看成是给定区间内的染色问题：
- l指针左边的全是染过色的，r指针右边的也全是染过色的。
- 循环结束的标志是l > r，或者说r+1 == l
- 循环结束时，整个区间都已经被染色
```java
// l指针左边，r指针右边全部染过色的
int l = 0, r = nums.length-1;
while (l <= r) {
	int mid = l + r >> 1;
	if (nums[mid] > target) {
		...
	}
	else if (nums[mid] == target) {
		...
	}
	else {
		...
	}
}
```

## 例子
[1, 2, 3, 5, 7, 8, 8, 8, 9]
寻找第一个target = 8的元素下标
```java
// l指针左边，r指针右边全部染过色的
int l = 0, r = nums.length-1;
while (l <= r) {
	int mid = l + r >> 1;
	// 大于target染右色
	if (nums[mid] > target) {
		r = mid - 1;
	}
	// 等于target染右色，因为找的左端点
	else if (nums[mid] == target) {
		...
	}
	// 小于target染左色
	else {
		...
	}
}

/**
* [1, 2, 3, 5, 7, 8, 8, 8, 9]
*              r  l
* 循环结束，分割点应该在第一个target之前，下标为l
* 若不存在target，则指向第一个大于target的元素或者越界
*/ 
if (l < nums.length && nums[l] == target) return l;
return -1;
```

## 性质
如上述例子，寻找第一个target，可以转化为寻找第一个小于target的元素下标+1。
因为下标这些都是整数，可以随便转化。